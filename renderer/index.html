<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>imgs2gif</title>
		<link rel="stylesheet" href="../styles/index.css" />
		<link rel="stylesheet" href="../styles/home.css" />
		<link rel="stylesheet" href="../styles/config.css" />
	</head>

	<body>
		<div id="app">
			<div id="nav">
				<ul class="nav-options">
					<li class="options-close" @click="close"></li>
					<li class="options-min" @click="minisize"></li>
					<li class="options-max"></li>
				</ul>
				<div class="nav-title">Img to Gif</div>
			</div>
			<div class="container">
				<div class="c-left">
					<div class="tips">快速开始</div>
					<ul class="process">
						<router-link :to="path" v-for="{index,text,path} in processData" :key="index">
							<li :class="{active:index<=process}">
								<i>{{index}}</i>
								<span>{{text}}</span>
							</li>
						</router-link>
					</ul>
				</div>
				<div class="c-right">
					<router-view></router-view>
				</div>
			</div>
		</div>
		<!-- components HOME-->
		<template id="home">
			<div class="add-img">
				<div class="add-img-tips" @click="pick" v-if="files.length===0">
					<img src="../assets/picture.png" alt="add-img" />
					<div style="font-size: 13px">点击添加图片</div>
				</div>
				<ul class="img-container" v-else>
					<li
						class="img-panel"
						v-for="{name,path,size,lastModified,id} in files"
						:key="id"
						@click="panelHandle(id)"
						:class="{active: active===id}"
					>
						<img :src="path" />
						<div class="img-panel-operate">
							<div>{{name}}</div>
							<div>{{lastModified|dateFormat}}</div>
							<div>{{size|sizeFormat}}</div>
						</div>
						<!-- <i class="img-panel-del"></i> -->
					</li>
					<ul class="img-container-opreate">
						<li @click="direction(-1)" class="up" v-show="active">
							<img src="../assets/up.png" alt="select" />
						</li>
						<li @click="direction(+1)" class="down" v-show="active">
							<img src="../assets/down.png" alt="select" />
						</li>

						<li class="del" @click="del" v-show="active">
							<img src="../assets/ashbin.png" alt="del" />
						</li>
						<li @click="pick">
							<img src="../assets/add2.png" alt="add" />
						</li>
						<li @click="next" class="next">下一步</li>
					</ul>
				</ul>
			</div>
		</template>
		<!-- components CONFIG-->
		<template id="config">
			<div class="config-page">
				<div class="config-conatiner">
					<ul class="config-form">
						<li class="config-form-item">
							<label for="width">宽度:</label>
							<div class="config-form-item-tips">设置动图的宽度</div>
							<div class="config-form-item-shell">
								<input id="width" v-model="form.gifWidth" />
								<span class="unit">像素</span>
							</div>
						</li>
						<li class="config-form-item">
							<label for="width">高度:</label>
							<div class="config-form-item-tips">设置动图的高度</div>
							<div class="config-form-item-shell">
								<input id="width" v-model="form.gifHeight" />
								<span class="unit">像素</span>
							</div>
						</li>
						<li class="config-form-item">
							<label for="width">间隔:</label>
							<div class="config-form-item-tips">设置图片切换的间隔</div>
							<div class="config-form-item-shell">
								<input id="width" v-model="form.interval" />
								<span class="unit">秒</span>
							</div>
						</li>
						<li class="config-form-item">
							<label for="width">操作:</label>
							<div class="config-form-item-tips">预览后才可以保存</div>
							<div class="config-form-item-operate">
								<button @click="prev" class="canSave">预览</button>
								<button @click="save" style="margin-left: 4px" :class="{canSave:canSave}">保存</button>
							</div>
						</li>
					</ul>
					<div class="preview config-form-item">
						<label for="width">效果预览:</label>
						<div class="config-form-item-tips">预览的图片的大小，并非最终的图片尺寸</div>
						<div class="config-form-item-shell" v-if="previewImage">
							<img :src="previewImage" alt="preview" />
						</div>
					</div>
				</div>
			</div>
		</template>
	</body>
	<script src="../scripts/gifshot.min.js"></script>
	<script src="../scripts/vue.min.js"></script>
	<script src="../scripts/vue-router.js"></script>
	<script src="../scripts/index.js"></script>
</html>
